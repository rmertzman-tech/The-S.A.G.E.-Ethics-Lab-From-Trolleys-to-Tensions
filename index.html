<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S.A.G.E. Ethics Lab: From Trolleys to Tensions</title>
    <style>
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --accent: #ff6b6b;
            --success: #43a047;
            --warning: #f57f17;
            --bg-light: #f8f9fa;
            --text-dark: #2d3748;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #f0f2f5;
            color: var(--text-dark);
            line-height: 1.6;
            padding-bottom: 60px;
        }

        /* --- HEADER --- */
        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 4rem 2rem;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }

        .hero h1 { font-size: 2.8rem; margin-bottom: 0.5rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
        .hero p { font-size: 1.2rem; opacity: 0.9; max-width: 800px; margin: 0 auto; }
        
        .badge {
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 15px;
            display: inline-block;
        }

        /* --- NAVIGATION --- */
        .nav-bar {
            display: flex;
            justify-content: center;
            background: white;
            padding: 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-btn {
            padding: 10px 20px;
            border: none;
            background: none;
            font-weight: 600;
            color: #718096;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .nav-btn.active { color: var(--primary); border-bottom-color: var(--primary); }
        .nav-btn:hover { color: var(--secondary); }

        /* --- CONTAINER --- */
        .container { max-width: 1000px; margin: 2rem auto; padding: 0 20px; }
        
        .section { display: none; animation: fadeIn 0.5s; }
        .section.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- CARDS & BOXES --- */
        .card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border-top: 4px solid var(--primary);
        }

        .card h2 { color: var(--secondary); margin-bottom: 1.5rem; border-bottom: 2px solid #edf2f7; padding-bottom: 10px; }
        .card h3 { color: #4a5568; margin: 1.5rem 0 1rem; font-size: 1.3rem; }

        .concept-box {
            background: #eef2ff;
            border-left: 4px solid var(--primary);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }

        .tension-box {
            background: #fff8e1;
            border-left: 4px solid #ffc107;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }

        /* --- TROLLEY VISUALS --- */
        .track-stage {
            position: relative;
            height: 300px;
            background: #e2e8f0;
            border-radius: 12px;
            overflow: hidden;
            margin: 20px 0;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .track-line {
            position: absolute;
            height: 12px;
            background: #4a5568;
            top: 50%;
            left: 0;
            width: 100%;
            transform: translateY(-50%);
        }
        
        .track-split {
            position: absolute;
            height: 12px;
            background: #4a5568;
            top: 50%;
            left: 30%;
            width: 70%;
            transform-origin: left;
            transform: rotate(20deg);
        }

        .trolley-icon { font-size: 3rem; position: absolute; top: 40%; left: 5%; transition: all 1s ease-in-out; z-index: 10; }
        .victim-group { font-size: 2rem; position: absolute; top: 42%; right: 10%; }
        .victim-single { font-size: 2rem; position: absolute; top: 65%; right: 10%; }
        
        .care-victim { font-size: 2.5rem; filter: drop-shadow(0 0 5px gold); }

        /* --- BUTTONS --- */
        .btn-group { display: flex; gap: 15px; flex-wrap: wrap; margin-top: 20px; justify-content: center; }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-size: 1rem;
        }
        
        .btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .btn-action { background: var(--primary); color: white; }
        .btn-danger { background: var(--accent); color: white; }
        .btn-outline { background: transparent; border: 2px solid var(--primary); color: var(--primary); }

        /* --- ANALYSIS GRID --- */
        .analysis-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        .lens-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        
        .lens-kant { border-top: 4px solid #9c27b0; }
        .lens-util { border-top: 4px solid #2196f3; }
        
        .lens-title { font-weight: bold; text-transform: uppercase; margin-bottom: 10px; font-size: 0.9rem; color: #718096; }

        /* --- FOOTER (BRC) --- */
        .brc-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: #2d3748;
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            z-index: 200;
        }
        .brc-status { display: flex; gap: 15px; align-items: center; }
        .brc-dot { width: 10px; height: 10px; border-radius: 50%; background: #48bb78; }

        /* Responsive */
        @media(max-width: 768px) {
            .hero h1 { font-size: 2rem; }
            .analysis-grid { grid-template-columns: 1fr; }
            .nav-bar { font-size: 0.8rem; overflow-x: auto; justify-content: flex-start; }
        }
    </style>
</head>
<body>

    <div class="hero">
        <span class="badge">Ethics Beyond Boundaries ‚Ä¢ Chapter 3</span>
        <h1>The S.A.G.E. Ethics Lab</h1>
        <p>From Abstract Trolleys to Systemic Tensions: A Diagnostic Toolkit</p>
    </div>

    <div class="nav-bar">
        <button class="nav-btn active" onclick="showSection('intro')">1. The Trolley Lab</button>
        <button class="nav-btn" onclick="showSection('care')">2. The Care Twist</button>
        <button class="nav-btn" onclick="showSection('chapter3')">3. Real World: Nonprofit Case</button>
        <button class="nav-btn" onclick="showSection('instruments')">4. The Instruments</button>
    </div>

    <div class="container">

        <div id="intro" class="section active">
            <div class="card">
                <h2>Phase 1: The Intuition Pump</h2>
                <p>Before we tackle complex institutional ethics, let's establish your baseline moral intuitions using the classic thought experiment.</p>
                
                <div class="concept-box">
                    <strong>The Setup:</strong> A runaway trolley is heading toward 5 workers. You can pull a lever to switch it to a track with 1 worker.
                </div>

                <div class="track-stage" id="trolley-stage-1">
                    <div class="track-line"></div>
                    <div class="track-split"></div>
                    <div class="trolley-icon" id="trolley-1">üöÉ</div>
                    <div class="victim-group" title="5 Workers">üë∑üë∑üë∑üë∑üë∑</div>
                    <div class="victim-single" title="1 Worker">üë∑</div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-action" onclick="runSimulation(1, 'pull')">Pull Lever (Save 5, Kill 1)</button>
                    <button class="btn btn-danger" onclick="runSimulation(1, 'nothing')">Do Nothing (Kill 5)</button>
                </div>

                <div id="analysis-1" style="display:none; margin-top:30px;">
                    <div class="analysis-grid">
                        <div class="lens-card lens-util">
                            <div class="lens-title">Utilitarian Lens (Consequences)</div>
                            <p><strong>Verdict:</strong> Pull the lever.</p>
                            <p><strong>Logic:</strong> Welfare Calculation. 5 lives > 1 life. The outcome maximizes aggregate well-being. The method (lever) is incidental.</p>
                        </div>
                        <div class="lens-card lens-kant">
                            <div class="lens-title">Kantian Lens (Dignity)</div>
                            <p><strong>Verdict:</strong> Permissible (Doctrine of Double Effect).</p>
                            <p><strong>Logic:</strong> You intend to divert the train (good). The death of the 1 is a foreseen but unintended side-effect. You are not using the worker as a "mere means."</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="care" class="section">
            <div class="card">
                <h2>Phase 2: The Care Ethics Critique</h2>
                <div class="concept-box">
                    <strong>Why this matters:</strong> Traditional ethics (Kant/Utility) often assume "Impartial Concern"‚Äîthat every stranger counts equally. <strong>Care Ethics</strong> argues that morality is grounded in particular relationships and responsibilities.
                </div>

                <h3>Scenario 4: The Loved One</h3>
                <p>The setup is the same. 5 strangers on the main track. But on the side track is <strong>your mother</strong> (or person you love most).</p>

                <div class="track-stage" id="trolley-stage-care">
                    <div class="track-line"></div>
                    <div class="track-split"></div>
                    <div class="trolley-icon" id="trolley-care">üöÉ</div>
                    <div class="victim-group">üë∑üë∑üë∑üë∑üë∑</div>
                    <div class="victim-single care-victim">‚ù§Ô∏è</div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-action" onclick="runSimulation('care', 'pull')">Pull Lever (Save 5, Sacrifice Loved One)</button>
                    <button class="btn btn-danger" onclick="runSimulation('care', 'nothing')">Do Nothing (Save Loved One, Kill 5)</button>
                </div>

                <div id="analysis-care" style="display:none; margin-top:30px;">
                    <div class="analysis-grid">
                        <div class="lens-card lens-util">
                            <div class="lens-title">Utilitarian Lens (Impartial Concern)</div>
                            <p><strong>Verdict:</strong> Pull the lever.</p>
                            <p><strong>Logic:</strong> 5 > 1. Your mother counts for one, not more. To prioritize her is "arbitrary exclusion" of the other 5.</p>
                        </div>
                        <div class="lens-card" style="border-top: 4px solid #ff9800;">
                            <div class="lens-title">Care Ethics Lens (Relational)</div>
                            <p><strong>Verdict:</strong> Save your loved one.</p>
                            <p><strong>Logic:</strong> Morality isn't just math. You have a specific, non-transferable duty of care to those you are in relationship with. Abstraction ignores the "particularity" of human life.</p>
                        </div>
                    </div>
                    <div class="tension-box" style="margin-top:20px;">
                        <strong>Chapter 3 Connection:</strong> This reveals the tension between <em>Impartial Concern</em> (Utilitarian) and <em>Relational Responsibility</em>. This isn't a failure of logic; it's a conflict of values.
                    </div>
                </div>
            </div>
        </div>

        <div id="chapter3" class="section">
            <div class="card">
                <h2>Phase 3: Real World Diagnostic (The Nonprofit Case)</h2>
                <p>Trolleys are simple. Institutions are messy. Let's apply the **Chapter 3 Toolkit** to a real structural problem.</p>

                <div class="concept-box">
                    <strong>The Situation:</strong> Your nonprofit gets a $500k grant. Staff are burning out (BRC failure). 
                    <br><br>
                    <strong>Proposal A (Management):</strong> Hire consultants to build long-term systems. (Argument: Future sustainability).
                    <br>
                    <strong>Proposal B (Staff):</strong> Hire more staff immediately. (Argument: Relief for current burnout).
                </div>

                <h3>Step 1: Run the Instruments</h3>
                <p>Click to apply each lens from Chapter 3.</p>

                <div class="btn-group" style="justify-content: flex-start;">
                    <button class="btn btn-outline" onclick="revealDiagnostic('kant')">Apply Kantian Lens</button>
                    <button class="btn btn-outline" onclick="revealDiagnostic('util')">Apply Utilitarian Lens</button>
                </div>

                <div id="diag-kant" class="concept-box" style="display:none; background: #f3e5f5; border-left-color: #9c27b0;">
                    <strong>KANTIAN DIAGNOSIS (Dignity & Autonomy):</strong>
                    <br>Pulls toward <strong>Proposal B (Staff)</strong>.
                    <ul>
                        <li><strong>Recognition of Worth:</strong> Staff expertise should be honored, not overridden by consultants.</li>
                        <li><strong>Dignity:</strong> Using current staff suffering as a means to future efficiency violates their dignity.</li>
                    </ul>
                </div>

                <div id="diag-util" class="concept-box" style="display:none; background: #e3f2fd; border-left-color: #2196f3;">
                    <strong>UTILITARIAN DIAGNOSIS (Consequences):</strong>
                    <br>Pulls toward <strong>Proposal A (Management)</strong>.
                    <ul>
                        <li><strong>Impartial Concern:</strong> Future clients count equally. Sustainable systems could serve 2x more people in 5 years.</li>
                        <li><strong>Welfare Calculation:</strong> Long-term aggregate welfare favors fixing the system over a temporary patch.</li>
                    </ul>
                </div>

                <div id="tension-reveal" style="display:none;">
                    <div class="tension-box">
                        <h3>‚ö° PRODUCTIVE TENSION DETECTED</h3>
                        <p>The lenses disagree. Good! This is your <strong>Diagnostic Signal</strong>. It reveals the system is forcing an impossible trade-off between <em>Present Dignity</em> and <em>Future Welfare</em>.</p>
                        <p><strong>Don't pick a side. Use the friction to generate a Third Option.</strong></p>
                        <button class="btn btn-action" onclick="document.getElementById('solution').style.display='block'">Generate Third Option</button>
                    </div>
                </div>

                <div id="solution" class="card" style="display:none; border-top-color: #43a047; background: #f1f8e9;">
                    <h3>The Solution: Staff-Led Professional Development</h3>
                    <p>Instead of Consultants (A) or just More Hands (B):</p>
                    <ul>
                        <li><strong>Budget:</strong> Split between immediate relief hires and staff-directed capacity building.</li>
                        <li><strong>Kantian Win:</strong> Staff <em>author</em> the changes (Autonomy/Authorship Test passed).</li>
                        <li><strong>Utilitarian Win:</strong> Capacity is built for the future, but through staff empowerment.</li>
                    </ul>
                    <p><em>This solution only emerges when you refuse to sacrifice either framework.</em></p>
                </div>
            </div>
        </div>

        <div id="instruments" class="section">
            <div class="card">
                <h2>Chapter 3 Instrument Reference</h2>
                <div class="analysis-grid">
                    <div class="lens-card lens-kant">
                        <div class="lens-title">KANTIAN (Dignity)</div>
                        <ul style="padding-left:20px;">
                            <li><strong>Recognition of Worth Test:</strong> Am I seeing a person or a tool?</li>
                            <li><strong>Genuine Consent Test:</strong> Is this voluntary or coerced?</li>
                            <li><strong>Authorship Test:</strong> Can I endorse this action as my own?</li>
                            <li><strong>Universalizability:</strong> Could everyone do this?</li>
                        </ul>
                    </div>
                    <div class="lens-card lens-util">
                        <div class="lens-title">UTILITARIAN (Consequences)</div>
                        <ul style="padding-left:20px;">
                            <li><strong>Impartial Concern:</strong> Whose welfare counts? (Are you excluding distant/future people?)</li>
                            <li><strong>Welfare Calculation:</strong> Are you accounting for ALL costs (including burnout)?</li>
                            <li><strong>Consequence Projection:</strong> What happens next (Feedback loops)?</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="brc-footer">
        <div class="brc-status">
            <div class="brc-dot"></div>
            <strong>Step Zero: BRC Defense</strong>
        </div>
        <div>
            Remember: You cannot run these ethical diagnostics if you are in survival mode. 
            <strong>Protect your sleep. It's an act of resistance.</strong>
        </div>
    </div>

    <script>
        // Navigation Logic
        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            window.scrollTo(0,0);
        }

        // Trolley Simulation Logic
        function runSimulation(id, choice) {
            const trolley = document.getElementById(id === 'care' ? 'trolley-care' : 'trolley-' + id);
            const analysis = document.getElementById('analysis-' + id);
            
            // Animation
            if(choice === 'pull') {
                trolley.style.transform = "translate(50px, 100px) rotate(20deg)";
            } else {
                trolley.style.transform = "translate(200px, 0)";
            }

            // Show Analysis after delay
            setTimeout(() => {
                analysis.style.display = 'block';
                analysis.scrollIntoView({behavior: "smooth"});
            }, 800);
        }

        // Chapter 3 Diagnostic Logic
        let kantRevealed = false;
        let utilRevealed = false;

        function revealDiagnostic(type) {
            document.getElementById('diag-' + type).style.display = 'block';
            if(type === 'kant') kantRevealed = true;
            if(type === 'util') utilRevealed = true;

            if(kantRevealed && utilRevealed) {
                document.getElementById('tension-reveal').style.display = 'block';
            }
        }
    </script>
</body>
</html>
