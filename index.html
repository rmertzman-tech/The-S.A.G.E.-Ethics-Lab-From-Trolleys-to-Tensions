<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S.A.G.E. Ethics Lab: The Triangulation Protocol</title>
    <style>
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --accent: #ff6b6b;
            --care: #f59e0b; /* Gold for Care Ethics */
            --bg-light: #f8f9fa;
            --text-dark: #2d3748;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #f0f2f5;
            color: var(--text-dark);
            line-height: 1.6;
            padding-bottom: 80px;
        }

        /* --- HERO --- */
        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }

        .hero h1 { font-size: 2.5rem; margin-bottom: 0.5rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
        .hero p { font-size: 1.1rem; opacity: 0.9; max-width: 800px; margin: 0 auto; }

        /* --- NAV --- */
        .nav-bar {
            display: flex;
            justify-content: center;
            background: white;
            padding: 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 100;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 10px 15px;
            border: none;
            background: none;
            font-weight: 600;
            color: #718096;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            font-size: 0.9rem;
        }

        .nav-btn.active { color: var(--primary); border-bottom-color: var(--primary); }
        .nav-btn:hover { color: var(--secondary); }

        /* --- LAYOUT --- */
        .container { max-width: 900px; margin: 2rem auto; padding: 0 20px; }
        .section { display: none; animation: fadeIn 0.5s; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- CARDS --- */
        .card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border-top: 4px solid var(--primary);
        }

        .concept-box {
            background: #eef2ff;
            border-left: 4px solid var(--primary);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }

        /* --- TROLLEY VISUALS --- */
        .track-stage {
            position: relative;
            height: 250px;
            background: #e2e8f0;
            border-radius: 12px;
            overflow: hidden;
            margin: 20px 0;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .track-line { position: absolute; height: 12px; background: #4a5568; top: 50%; left: 0; width: 100%; transform: translateY(-50%); }
        .track-split { position: absolute; height: 12px; background: #4a5568; top: 50%; left: 30%; width: 70%; transform-origin: left; transform: rotate(20deg); }
        .trolley-icon { font-size: 3rem; position: absolute; top: 38%; left: 5%; transition: all 1s ease-in-out; z-index: 10; }
        .care-victim { font-size: 2.5rem; position: absolute; top: 65%; right: 10%; filter: drop-shadow(0 0 5px gold); }

        /* --- LENSES & GRIDS --- */
        .analysis-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px; }
        .lens-card { background: white; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; }
        
        .lens-kant { border-top: 4px solid #9c27b0; }
        .lens-util { border-top: 4px solid #2196f3; }
        .lens-care { border-top: 4px solid var(--care); background: #fffbf0; }
        
        .lens-title { font-weight: bold; text-transform: uppercase; margin-bottom: 10px; font-size: 0.9rem; color: #718096; }

        /* --- TRIANGULATION TOOL --- */
        .triangle-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 40px 0;
            position: relative;
            height: 200px;
        }
        
        .triangle-point {
            position: absolute;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            color: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            font-size: 0.9rem;
        }
        
        .tp-kant { top: 0; background: #9c27b0; }
        .tp-util { bottom: 0; right: 0; background: #2196f3; }
        .tp-care { bottom: 0; left: 0; background: var(--care); }
        
        .center-solution {
            position: absolute;
            top: 40%;
            background: white;
            padding: 15px;
            border: 2px solid #2d3748;
            border-radius: 8px;
            font-weight: bold;
            z-index: 10;
        }

        /* --- BUTTONS --- */
        .btn { padding: 12px 24px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin: 5px; transition: transform 0.2s; }
        .btn:hover { transform: translateY(-2px); }
        .btn-action { background: var(--primary); color: white; }
        .btn-care { background: var(--care); color: white; }
        .btn-outline { background: transparent; border: 2px solid #cbd5e0; color: #4a5568; }

        /* --- FOOTER --- */
        .brc-footer {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: #2d3748; color: white; padding: 15px 20px;
            display: flex; justify-content: space-between; align-items: center;
            font-size: 0.9rem; z-index: 200;
        }
        .brc-status { display: flex; gap: 10px; align-items: center; }
        .brc-dot { width: 10px; height: 10px; border-radius: 50%; background: #48bb78; box-shadow: 0 0 10px #48bb78; }

        @media(max-width: 768px) {
            .analysis-grid { grid-template-columns: 1fr; }
            .triangle-container { transform: scale(0.8); }
        }
    </style>
</head>
<body>

    <div class="hero">
        <h1>The S.A.G.E. Ethics Lab</h1>
        <p>From Abstract Trolleys to Systemic Solutions</p>
    </div>

    <div class="nav-bar">
        <button class="nav-btn active" onclick="showSection('intro')">1. The Trolley Lab</button>
        <button class="nav-btn" onclick="showSection('care')">2. Care Twist</button>
        <button class="nav-btn" onclick="showSection('chapter3')">3. Real World Case</button>
        <button class="nav-btn" onclick="showSection('synthesis')">4. The Triangulation</button>
    </div>

    <div class="container">

        <div id="intro" class="section active">
            <div class="card">
                <h2>Phase 1: The Intuition Pump</h2>
                <div class="concept-box">
                    <strong>The Setup:</strong> Runaway trolley. 5 workers vs 1 worker. Do you pull the lever?
                </div>
                <div class="track-stage">
                    <div class="track-line"></div>
                    <div class="track-split"></div>
                    <div class="trolley-icon" id="trolley-1">üöÉ</div>
                    <div style="position:absolute; top:42%; right:10%; font-size:2rem;">üë∑üë∑üë∑üë∑üë∑</div>
                    <div style="position:absolute; top:65%; right:10%; font-size:2rem;">üë∑</div>
                </div>
                <button class="btn btn-action" onclick="runSimulation(1, 'pull')">Pull Lever</button>
                <div id="analysis-1" style="display:none; margin-top:20px;">
                    <div class="analysis-grid">
                        <div class="lens-card lens-util"><strong>Utilitarian:</strong> YES. 5 > 1. Maximize outcomes.</div>
                        <div class="lens-card lens-kant"><strong>Kantian:</strong> YES. Unintended side effect (Double Effect).</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="care" class="section">
            <div class="card">
                <h2>Phase 2: The Care Ethics Critique</h2>
                <div class="concept-box" style="border-left-color: var(--care);">
                    <strong>Scenario 4: The Loved One.</strong> Same math (5 vs 1), but the 1 is your mother.
                </div>
                <div class="track-stage">
                    <div class="track-line"></div>
                    <div class="track-split"></div>
                    <div class="trolley-icon" id="trolley-care">üöÉ</div>
                    <div style="position:absolute; top:42%; right:10%; font-size:2rem;">üë∑üë∑üë∑üë∑üë∑</div>
                    <div class="care-victim">‚ù§Ô∏è</div>
                </div>
                <button class="btn btn-action" onclick="runSimulation('care', 'pull')">Pull Lever</button>
                <button class="btn btn-care" onclick="runSimulation('care', 'nothing')">Save Loved One</button>
                
                <div id="analysis-care" style="display:none; margin-top:20px;">
                    <div class="analysis-grid">
                        <div class="lens-card lens-util">
                            <div class="lens-title">Utilitarian Lens</div>
                            <p><strong>Pull.</strong> Your mother counts for 1. To save her is "arbitrary bias."</p>
                        </div>
                        <div class="lens-card lens-care">
                            <div class="lens-title">Care Ethics Lens</div>
                            <p><strong>Don't Pull.</strong> You have a specific, non-transferable duty to those in relationship with you. Abstraction fails here.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="chapter3" class="section">
            <div class="card">
                <h2>Phase 3: The Nonprofit Diagnostic</h2>
                <div class="concept-box">
                    <strong>The Case:</strong> $500k Grant. Staff are burning out.
                    <br><strong>Option A:</strong> Consultants (Future Systems).
                    <br><strong>Option B:</strong> More Staff (Present Relief).
                </div>
                
                <button class="btn btn-outline" onclick="revealDiag('kant')">Apply Kantian Lens</button>
                <button class="btn btn-outline" onclick="revealDiag('util')">Apply Utilitarian Lens</button>

                <div id="diag-kant" class="lens-card lens-kant" style="display:none; margin-top:10px;">
                    <strong>Kantian Diagnosis:</strong> Favors <strong>Staff (B)</strong>. Ignoring current suffering for future efficiency treats staff as "mere means" to an end. Dignity violation detected.
                </div>
                <div id="diag-util" class="lens-card lens-util" style="display:none; margin-top:10px;">
                    <strong>Utilitarian Diagnosis:</strong> Favors <strong>Consultants (A)</strong>. Systemic fix helps 2x more clients in 5 years. Maximizes aggregate welfare.
                </div>

                <div id="tension-box" style="display:none; margin-top:20px; background:#fff3cd; padding:15px; border-left:4px solid #ffc107; border-radius:4px;">
                    <strong>‚ö° PRODUCTIVE TENSION DETECTED.</strong> The frameworks disagree. This is your signal to generate a Third Option.
                    <br><br>
                    <strong>The Solution:</strong> Staff-Led Capacity Building (Hybrid).
                </div>
            </div>
        </div>

        <div id="synthesis" class="section">
            <div class="card">
                <h2>Phase 4: The Triangulation Protocol</h2>
                <p>We found a solution ("Staff-Led Development"), but is it sustainable? We must subject it to the final instrument: <strong>The Care Audit.</strong></p>

                <div class="triangle-container">
                    <div class="triangle-point tp-kant">KANT (Dignity)</div>
                    <div class="center-solution">The Solution</div>
                    <div class="triangle-point tp-care">CARE (Relations)</div>
                    <div class="triangle-point tp-util">UTIL (Outcomes)</div>
                    
                    <svg style="position:absolute; width:100%; height:100%; z-index:0;">
                        <line x1="50%" y1="20" x2="10%" y2="180" style="stroke:#cbd5e0;stroke-width:2" />
                        <line x1="50%" y1="20" x2="90%" y2="180" style="stroke:#cbd5e0;stroke-width:2" />
                        <line x1="10%" y1="180" x2="90%" y2="180" style="stroke:#cbd5e0;stroke-width:2" />
                    </svg>
                </div>

                <h3>Run the Care Audit</h3>
                <p>Does the solution actually maintain the web of relationships?</p>
                
                <div style="display:flex; flex-direction:column; gap:10px;">
                    <div id="audit-1" class="lens-card" style="opacity:0.5; transition:0.3s;">
                        <strong>1. Attentiveness Check:</strong> Did we just "fix a problem," or did we acknowledge the pain of the burnout?
                        <br><em style="color:var(--care)">Verdict: Yes, by letting staff define the needs.</em>
                    </div>
                    <div id="audit-2" class="lens-card" style="opacity:0.5; transition:0.3s;">
                        <strong>2. Competence Check:</strong> Is the care actually effective, or just performative?
                        <br><em style="color:var(--care)">Verdict: Yes, budget is allocated to actual relief, not just "wellness seminars."</em>
                    </div>
                    <div id="audit-3" class="lens-card" style="opacity:0.5; transition:0.3s;">
                        <strong>3. Responsiveness Check:</strong> Does it strengthen the relational web?
                        <br><em style="color:var(--care)">Verdict: Yes, staff work together to build the system, increasing solidarity.</em>
                    </div>
                </div>

                <button class="btn btn-care" style="margin-top:20px; width:100%;" onclick="runAudit()">VALIDATE SOLUTION WITH CARE ETHICS</button>
                
                <div id="final-success" style="display:none; text-align:center; margin-top:20px; color:green; font-weight:bold; animation: fadeIn 1s;">
                    ‚úÖ SYSTEM STABLE. Solution satisfies Dignity, Utility, AND Care.
                </div>
            </div>
        </div>

    </div>

    <div class="brc-footer">
        <div class="brc-status">
            <div class="brc-dot"></div>
            <strong>Step Zero: BRC Defense</strong>
        </div>
        <div>Remember: You cannot practice Care Ethics if you are depleted. Protect your sleep.</div>
    </div>

    <script>
        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            window.scrollTo(0,0);
        }

        function runSimulation(id, choice) {
            const trolley = document.getElementById(id === 'care' ? 'trolley-care' : 'trolley-' + id);
            const analysis = document.getElementById('analysis-' + id);
            
            if(choice === 'pull') trolley.style.transform = "translate(50px, 80px) rotate(20deg)";
            else trolley.style.transform = "translate(200px, 0)";

            setTimeout(() => {
                analysis.style.display = 'block';
                analysis.scrollIntoView({behavior: "smooth"});
            }, 500);
        }

        let kReveal = false, uReveal = false;
        function revealDiag(type) {
            document.getElementById('diag-' + type).style.display = 'block';
            if(type === 'kant') kReveal = true;
            if(type === 'util') uReveal = true;
            if(kReveal && uReveal) document.getElementById('tension-box').style.display = 'block';
        }

        function runAudit() {
            document.getElementById('audit-1').style.opacity = '1';
            document.getElementById('audit-1').style.borderLeft = '4px solid var(--care)';
            
            setTimeout(() => {
                document.getElementById('audit-2').style.opacity = '1';
                document.getElementById('audit-2').style.borderLeft = '4px solid var(--care)';
            }, 500);

            setTimeout(() => {
                document.getElementById('audit-3').style.opacity = '1';
                document.getElementById('audit-3').style.borderLeft = '4px solid var(--care)';
                document.getElementById('final-success').style.display = 'block';
            }, 1000);
        }
    </script>
</body>
</html>
